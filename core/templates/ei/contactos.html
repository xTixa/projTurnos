{% extends "home/base.html" %}
{% load static %}
{% block title %}Contactos — Engenharia Informática{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/ei/contactos.css' %}">
{% endblock %}

{% block content %}

<div class="contactos-container">

<section class="contact-header">
  <div class="contact-info">
    <h1>Contactos</h1>

    {% if curso %}
      <p class="curso-info"><strong>{{ curso.nome }}</strong> — {{ curso.grau }}</p>
    {% endif %}

    <p class="descricao">Fala connosco! Consulta abaixo os contactos da coordenação e do corpo docente do curso.</p>

    <a href="https://maps.google.com/?q=Instituto+Politécnico+de+Viseu"
       target="_blank"
       class="map-link">
      <i class="fa-solid fa-location-dot"></i>
      Ver no Google Maps
    </a>
  </div>

  <iframe
    class="contact-map"
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3032.5!2d-7.9201646!3d40.6439583!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd23370121313ff7%3A0xfb8b9b36fe071169!2sESTGV+-+Escola+Superior+de+Tecnologia+e+Gest%C3%A3o+de+Viseu!5e0!3m2!1spt-PT!2spt!4v1705325854000"
    allowfullscreen=""
    loading="lazy">
  </iframe>
</section>

<h2 class="subtitulo">Corpo Docente</h2>

<section class="contacts-grid">
  {% for d in docentes %}
  <div class="contact-card">
    <h3><i class="fa-solid fa-user-tie"></i> {{ d.nome }}</h3>

    {% if d.email %}
      <p><i class="fa-solid fa-envelope"></i> 
         <a href="mailto:{{ d.email }}">{{ d.email }}</a>
      </p>
    {% else %}
      <p><em>Sem email registado</em></p>
    {% endif %}
  </div>
  {% empty %}
  <p>Não existem docentes registados.</p>
  {% endfor %}
</section>

</div>

{% endblock %}
